# æ˜Ÿè§å‘Šç™½ï¼šä¸å¥¹çš„ä¸“å±ç¾ç»Š

ä¸€æ¬¾åŸºäº TypeScript + Vite + PixiJS å¼€å‘çš„2D AI Galgameï¼Œæ”¯æŒGoogle AI Studio APIå¢å¼ºå¯¹è¯ä½“éªŒã€‚

## å¿«é€Ÿå¼€å§‹

### å®‰è£…ä¾èµ–
```bash
npm install
```

### å¯åŠ¨å¼€å‘æœåŠ¡å™¨
```bash
npm run dev
```

æ¸¸æˆå°†åœ¨ http://localhost:5180 å¯åŠ¨ã€‚

### æ„å»ºç”Ÿäº§ç‰ˆæœ¬
```bash
npm run build
```

---

## ç«‹ç»˜ä¸Šä¼ æŒ‡å—

### ç«‹ç»˜å­˜æ”¾ä½ç½®

æ‰€æœ‰ç«‹ç»˜å›¾ç‰‡éœ€è¦æ”¾ç½®åœ¨ `public/sprites/` ç›®å½•ä¸‹ï¼ŒæŒ‰ç…§ä»¥ä¸‹ç»“æ„ç»„ç»‡ï¼š

```
public/
â””â”€â”€ sprites/
    â”œâ”€â”€ su_wanqing/          # è‹æ™šæ™´çš„ç«‹ç»˜
    â”‚   â”œâ”€â”€ stranger.png     # é™Œç”ŸçŠ¶æ€ (å¥½æ„Ÿåº¦ 0-20)
    â”‚   â”œâ”€â”€ familiar.png     # ç†Ÿæ‚‰çŠ¶æ€ (å¥½æ„Ÿåº¦ 21-40)
    â”‚   â”œâ”€â”€ fond.png         # å¥½æ„ŸçŠ¶æ€ (å¥½æ„Ÿåº¦ 41-60)
    â”‚   â”œâ”€â”€ love.png         # å–œæ¬¢çŠ¶æ€ (å¥½æ„Ÿåº¦ 61-80)
    â”‚   â””â”€â”€ devoted.png      # æ·±çˆ±çŠ¶æ€ (å¥½æ„Ÿåº¦ 81-100)
    â”‚
    â”œâ”€â”€ xia_zhi/             # å¤æ €çš„ç«‹ç»˜
    â”‚   â”œâ”€â”€ stranger.png
    â”‚   â”œâ”€â”€ familiar.png
    â”‚   â”œâ”€â”€ fond.png
    â”‚   â”œâ”€â”€ love.png
    â”‚   â””â”€â”€ devoted.png
    â”‚
    â””â”€â”€ lin_zhiyu/           # æ—çŸ¥äºˆçš„ç«‹ç»˜
        â”œâ”€â”€ stranger.png
        â”œâ”€â”€ familiar.png
        â”œâ”€â”€ fond.png
        â”œâ”€â”€ love.png
        â””â”€â”€ devoted.png
```

### ç«‹ç»˜è§„æ ¼è¦æ±‚

| é¡¹ç›® | æ¨èå€¼ |
|------|--------|
| æ ¼å¼ | PNGï¼ˆé€æ˜èƒŒæ™¯ï¼‰ |
| å°ºå¯¸ | å®½åº¦ 800-1200pxï¼Œé«˜åº¦ 1600-2400px |
| æ¯”ä¾‹ | çº¦ 1:2 (å®½:é«˜) |
| æ–‡ä»¶å¤§å° | å»ºè®®æ¯å¼  < 2MB |

### å„è§’è‰²ç«‹ç»˜é£æ ¼è¦æ±‚

#### è‹æ™šæ™´ï¼ˆæ¸©æŸ”ç­é•¿ï¼‰
| çŠ¶æ€ | æƒ…æ„Ÿç­‰çº§ | ç«‹ç»˜æè¿° |
|------|----------|----------|
| stranger | 0-20 | é¢æ— è¡¨æƒ…ï¼Œçœ¼ç¥ç–ç¦»ï¼Œç«™å§¿æŒºæ‹”ï¼ˆç­é•¿æ°”åœºï¼‰ï¼Œç©¿æ­æ•´æ´æ ¡æœ |
| familiar | 21-40 | è½»å¾®å¾®ç¬‘ï¼Œçœ¼ç¥æŸ”å’Œï¼ŒåŒæ‰‹è‡ªç„¶ä¸‹å‚ï¼Œç©¿æ­ä¼‘é—²æ ¡æœ |
| fond | 41-60 | è„¸çº¢å¾®ç¬‘ï¼Œçœ¼ç¥å¸¦å…‰ï¼ŒåŒæ‰‹è½»æ¡è¡£è§’ï¼Œå¯åŠ è½»å¾®å…‰å½±ç‰¹æ•ˆ |
| love | 61-80 | çœ‰çœ¼å¼¯å¼¯ï¼Œä¸»åŠ¨é è¿‘å§¿æ€ï¼Œå¸¦è…®çº¢ã€å¾®å…‰ç‰¹æ•ˆ |
| devoted | 81-100 | å®³ç¾ä½å¤´/ä¸»åŠ¨å¯¹è§†ï¼Œå¸¦æ¸©æŸ”ç¬‘æ„ï¼ŒæŸ”å…‰ç‰¹æ•ˆï¼Œå§¿æ€äº²æ˜µ |

#### å¤æ €ï¼ˆå…ƒæ°”å­¦å¦¹ï¼‰
| çŠ¶æ€ | æƒ…æ„Ÿç­‰çº§ | ç«‹ç»˜æè¿° |
|------|----------|----------|
| stranger | 0-20 | å¥½å¥‡æ‰“é‡ï¼Œå˜´è§’å¾®æ‰¬ï¼Œç«™å§¿æ´»æ³¼ï¼Œç©¿æ­å…ƒæ°”æ ¡æœ+åŠ¨æ¼«å¾½ç«  |
| familiar | 21-40 | å¤§ç¬‘ï¼ŒåŒæ‰‹å‰è…°/æŒ¥æ‰‹ï¼Œçœ¼ç¥çµåŠ¨ï¼Œå‘ä¸é£˜åŠ¨ |
| fond | 41-60 | æ­ªå¤´ç¬‘ï¼Œçœ¨çœ¼ï¼Œä¸»åŠ¨é è¿‘ï¼Œå¸¦è…®çº¢ï¼ŒåŠ å°å‘å¤¹è£…é¥° |
| love | 61-80 | è¹¦è¹¦è·³è·³ï¼ŒåŒæ‰‹æŒ½ä½è¡£è§’ï¼Œçœ‰çœ¼å¼¯å¼¯ï¼Œå¸¦çˆ±å¿ƒç‰¹æ•ˆ |
| devoted | 81-100 | è„¸çº¢æŠ±è‡‚/è¸®è„šé è¿‘ï¼Œçœ¼ç¥ç¾æ¶©åˆä¸»åŠ¨ï¼ŒæŸ”å…‰ç‰¹æ•ˆæ‹‰æ»¡ |

#### æ—çŸ¥äºˆï¼ˆæ¸…å†·ç¾æœ¯ç”Ÿï¼‰
| çŠ¶æ€ | æƒ…æ„Ÿç­‰çº§ | ç«‹ç»˜æè¿° |
|------|----------|----------|
| stranger | 0-20 | çœ¼ç¥å†·æ·¡ï¼Œé¢æ— è¡¨æƒ…ï¼ŒåŒæ‰‹æŠ±èƒ¸/æ¡ç”»ç¬”ï¼Œç®€çº¦æ ¡æœ+ç”»ç¬”è¢‹ |
| familiar | 21-40 | è½»å¾®ç‚¹å¤´ï¼Œçœ¼ç¥æŸ”å’Œï¼ŒåŒæ‰‹è‡ªç„¶æ¡ç¬”ï¼Œå˜´è§’å¾®æŠ¿ |
| fond | 41-60 | çœ¼ç¥æ¸©æŸ”ï¼Œå˜´è§’è½»æ‰¬ï¼Œæ‰‹ä¸­æ¡æœ‰ç”»ç€ç©å®¶çš„è‰ç¨¿ |
| love | 61-80 | ä½å¤´æµ…ç¬‘ï¼Œè„¸çº¢ï¼Œä¸»åŠ¨é€’å‡ºç”»ç¨¿ï¼Œå§¿æ€è½»å¾®æ‹˜è°¨ |
| devoted | 81-100 | æŠ¬å¤´å¯¹è§†ï¼Œæ¸©æŸ”æµ…ç¬‘ï¼Œçœ¼ç¥åšå®šï¼ŒæŸ”å…‰ç‰¹æ•ˆï¼Œä¸»åŠ¨è½»ç¢°æ‰‹ |

### ä½¿ç”¨AIç”Ÿæˆç«‹ç»˜

å¦‚æœæ‚¨ä½¿ç”¨AIç”Ÿæˆç«‹ç»˜ï¼Œå¯ä»¥å‚è€ƒä»¥ä¸‹promptæ¨¡æ¿ï¼š

```
[è§’è‰²å]ï¼Œ[å¹´é¾„]å²ï¼Œ[è§’è‰²æè¿°]
æƒ…æ„ŸçŠ¶æ€ï¼š[çŠ¶æ€åç§°]
è¡¨æƒ…ï¼š[è¡¨æƒ…æè¿°]
å§¿æ€ï¼š[å§¿æ€æè¿°]
æœè£…ï¼šæ—¥å¼é«˜ä¸­æ ¡æœ
é£æ ¼ï¼šæ—¥ç³»äºŒæ¬¡å…ƒï¼Œç²¾è‡´ç«‹ç»˜ï¼Œé€æ˜èƒŒæ™¯
ç‰¹æ•ˆï¼š[å¯é€‰çš„å…‰å½±ç‰¹æ•ˆ]
```

**ç¤ºä¾‹promptï¼š**
```
è‹æ™šæ™´ï¼Œ17å²ï¼Œæ¸©æŸ”ç­é•¿ï¼Œæ‰é©¬å°¾
æƒ…æ„ŸçŠ¶æ€ï¼šæ·±çˆ±
è¡¨æƒ…ï¼šå®³ç¾ä½å¤´ï¼Œè„¸çº¢ï¼Œå¸¦æ¸©æŸ”ç¬‘æ„
å§¿æ€ï¼šåŒæ‰‹è½»æ¡åœ¨èƒ¸å‰ï¼Œèº«ä½“å¾®å¾®å‰å€¾
æœè£…ï¼šæ•´æ´çš„æ—¥å¼é«˜ä¸­æ ¡æœï¼Œèƒ¸å‰åˆ«ç€ç­é•¿å¾½ç« 
é£æ ¼ï¼šæ—¥ç³»äºŒæ¬¡å…ƒï¼Œç²¾è‡´ç«‹ç»˜ï¼Œé€æ˜èƒŒæ™¯
ç‰¹æ•ˆï¼šæŸ”å…‰ï¼Œç²‰è‰²å…‰æ™•
```

---

## å¦‚ä½•ä¿®æ”¹ç«‹ç»˜URL

å¦‚æœæ‚¨ä¸æƒ³ä½¿ç”¨æœ¬åœ°æ–‡ä»¶ï¼Œå¯ä»¥ç›´æ¥ä¿®æ”¹ä»£ç ä¸­çš„ç«‹ç»˜URLï¼š

ç¼–è¾‘ `src/data/characters.ts` æ–‡ä»¶ï¼Œæ‰¾åˆ° `CHARACTER_SPRITES` å¯¹è±¡ï¼š

```typescript
export const CHARACTER_SPRITES: Record<CharacterId, Record<string, string>> = {
  su_wanqing: {
    stranger: 'ä½ çš„ç«‹ç»˜URL',
    familiar: 'ä½ çš„ç«‹ç»˜URL',
    fond: 'ä½ çš„ç«‹ç»˜URL',
    love: 'ä½ çš„ç«‹ç»˜URL',
    devoted: 'ä½ çš„ç«‹ç»˜URL',
  },
  // ... å…¶ä»–è§’è‰²
};
```

å°†URLæ›¿æ¢ä¸ºæ‚¨çš„ç«‹ç»˜å›¾ç‰‡é“¾æ¥å³å¯ã€‚

---

## AIå¯¹è¯åŠŸèƒ½é…ç½®

### è·å– Google AI Studio API Key

1. è®¿é—® [Google AI Studio](https://makersuite.google.com/app/apikey)
2. ç™»å½•æ‚¨çš„Googleè´¦å·
3. ç‚¹å‡» "Create API Key" åˆ›å»ºæ–°çš„APIå¯†é’¥
4. å¤åˆ¶ç”Ÿæˆçš„API Key

### åœ¨æ¸¸æˆä¸­é…ç½®

1. è¿›å…¥æ¸¸æˆåï¼Œç‚¹å‡» **è®¾ç½®**
2. æ‰¾åˆ° **AIå¢å¼ºå¯¹è¯** é€‰é¡¹ï¼Œæ‰“å¼€å¼€å…³
3. åœ¨ **API Key** è¾“å…¥æ¡†ä¸­ç²˜è´´æ‚¨çš„å¯†é’¥
4. ç‚¹å‡» **ä¿å­˜è®¾ç½®**

### æ— AIæ¨¡å¼

å¦‚æœä¸é…ç½®API Keyï¼Œæ¸¸æˆä¼šè‡ªåŠ¨ä½¿ç”¨é¢„è®¾çš„å¯¹è¯å›å¤ï¼Œä¸å½±å“æ­£å¸¸æ¸¸æˆä½“éªŒã€‚

---

## é¡¹ç›®ç»“æ„

```
galgame/
â”œâ”€â”€ public/                 # é™æ€èµ„æº
â”‚   â””â”€â”€ sprites/           # ç«‹ç»˜å›¾ç‰‡ç›®å½•
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ core/              # æ ¸å¿ƒç³»ç»Ÿ
â”‚   â”‚   â”œâ”€â”€ GameManager.ts    # æ¸¸æˆç®¡ç†å™¨
â”‚   â”‚   â”œâ”€â”€ AffectionSystem.ts # ç¾ç»Šå€¼ç³»ç»Ÿ
â”‚   â”‚   â”œâ”€â”€ SaveSystem.ts     # å­˜æ¡£ç³»ç»Ÿ
â”‚   â”‚   â””â”€â”€ StoryEngine.ts    # å‰§æƒ…å¼•æ“
â”‚   â”œâ”€â”€ data/              # æ•°æ®æ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ characters.ts     # è§’è‰²æ•°æ®
â”‚   â”‚   â””â”€â”€ chapters.ts       # å‰§æƒ…ç« èŠ‚
â”‚   â”œâ”€â”€ effects/           # ç‰¹æ•ˆç³»ç»Ÿ
â”‚   â”‚   â””â”€â”€ EffectsManager.ts # PixiJSç‰¹æ•ˆ
â”‚   â”œâ”€â”€ scenes/            # åœºæ™¯æ¸²æŸ“
â”‚   â”‚   â”œâ”€â”€ HomePage.ts       # ä¸»é¡µ
â”‚   â”‚   â”œâ”€â”€ CharacterSelectPage.ts # è§’è‰²é€‰æ‹©
â”‚   â”‚   â”œâ”€â”€ GameScene.ts      # æ¸¸æˆä¸»ç•Œé¢
â”‚   â”‚   â”œâ”€â”€ SaveLoadPage.ts   # å­˜æ¡£é¡µé¢
â”‚   â”‚   â””â”€â”€ SettingsPage.ts   # è®¾ç½®é¡µé¢
â”‚   â”œâ”€â”€ services/          # æœåŠ¡
â”‚   â”‚   â””â”€â”€ AIService.ts      # AIå¯¹è¯æœåŠ¡
â”‚   â”œâ”€â”€ styles/            # æ ·å¼
â”‚   â”‚   â””â”€â”€ main.css          # ä¸»æ ·å¼æ–‡ä»¶
â”‚   â”œâ”€â”€ types/             # ç±»å‹å®šä¹‰
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â””â”€â”€ main.ts            # å…¥å£æ–‡ä»¶
â”œâ”€â”€ index.html             # HTMLå…¥å£
â”œâ”€â”€ package.json
â”œâ”€â”€ tailwind.config.js     # Tailwindé…ç½®
â”œâ”€â”€ vite.config.ts         # Viteé…ç½®
â””â”€â”€ README.md              # æœ¬æ–‡ä»¶
```

---

## æ·»åŠ æ–°å‰§æƒ…

ç¼–è¾‘ `src/data/chapters.ts` æ–‡ä»¶ï¼ŒæŒ‰ç…§ä»¥ä¸‹æ ¼å¼æ·»åŠ æ–°ç« èŠ‚ï¼š

```typescript
{
  id: 'chapter_id',
  title: 'ç« èŠ‚æ ‡é¢˜',
  characterId: 'su_wanqing', // è§’è‰²ID
  startNodeId: 'node_001',
  nodes: [
    {
      id: 'node_001',
      type: 'dialog',
      background: 'classroom', // èƒŒæ™¯
      dialogs: [
        {
          id: 'd001',
          characterId: 'narrator', // æ—ç™½
          text: 'è¿™æ˜¯æ—ç™½æ–‡å­—',
        },
        {
          id: 'd002',
          characterId: 'su_wanqing', // è§’è‰²å¯¹è¯
          text: 'è¿™æ˜¯è§’è‰²è¯´çš„è¯',
          emotion: 'happy',
        },
      ],
      nextNodeId: 'node_002',
    },
    {
      id: 'node_002',
      type: 'choice',
      choices: [
        {
          id: 'c001',
          text: 'é€‰é¡¹1æ–‡å­—',
          effects: [
            { type: 'affection', characterId: 'su_wanqing', value: 5 },
          ],
          nextNodeId: 'node_003a',
        },
        {
          id: 'c002',
          text: 'é€‰é¡¹2æ–‡å­—',
          effects: [
            { type: 'affection', characterId: 'su_wanqing', value: -2 },
          ],
          nextNodeId: 'node_003b',
        },
      ],
    },
  ],
}
```

---

## æ¸¸æˆç‰¹è‰²

- **3ä½å¯æ”»ç•¥è§’è‰²**ï¼šè‹æ™šæ™´ï¼ˆæ¸©æŸ”ç­é•¿ï¼‰ã€å¤æ €ï¼ˆå…ƒæ°”å­¦å¦¹ï¼‰ã€æ—çŸ¥äºˆï¼ˆæ¸…å†·ç¾æœ¯ç”Ÿï¼‰
- **æƒ…æ„Ÿç¾ç»Šç³»ç»Ÿ**ï¼š5ä¸ªç­‰çº§ï¼Œå½±å“ç«‹ç»˜åˆ‡æ¢å’Œå‰§æƒ…åˆ†æ”¯
- **AIå¢å¼ºå¯¹è¯**ï¼šå¯é€‰é…ç½®Google AI Studioï¼Œè·å¾—ä¸ªæ€§åŒ–å¯¹è¯ä½“éªŒ
- **æ¨±èŠ±é£˜è½ç‰¹æ•ˆ**ï¼šPixiJSæ¸²æŸ“çš„æ°›å›´ç²’å­æ•ˆæœ
- **å¤šåˆ†æ”¯å‰§æƒ…**ï¼šæ¯ä¸ªé€‰æ‹©éƒ½ä¼šå½±å“å¥½æ„Ÿåº¦å’Œå‰§æƒ…èµ°å‘
- **å¤šç»“å±€è®¾è®¡**ï¼šæ¯ä½è§’è‰²3ç§ç»“å±€ï¼ˆæ™®é€š/å®Œç¾/éšè—ï¼‰
- **å­˜æ¡£ç³»ç»Ÿ**ï¼š10ä¸ªæ‰‹åŠ¨å­˜æ¡£æ§½ä½ + è‡ªåŠ¨å­˜æ¡£

---

## æŠ€æœ¯æ ˆ

- **TypeScript** - ä¸»è¦å¼€å‘è¯­è¨€
- **Vite** - æ„å»ºå·¥å…·
- **Tailwind CSS** - æ ·å¼æ¡†æ¶
- **PixiJS** - 2Dæ¸²æŸ“å¼•æ“ï¼ˆç‰¹æ•ˆå±‚ï¼‰
- **Google AI Studio API** - AIå¯¹è¯ç”Ÿæˆï¼ˆå¯é€‰ï¼‰

---

è®©æˆ‘æŸ¥çœ‹AIæœåŠ¡çš„å®ç°æ¥ä¸ºæ‚¨è§£é‡Šï¼š

[1 tool called]

## AIå¢å¼ºå¯¹è¯åŠŸèƒ½è¯¦è§£

AIå¢å¼ºå¯¹è¯ä½¿ç”¨ **Google Gemini API** å®ç°ä»¥ä¸‹åŠŸèƒ½ï¼š

### ğŸ­ 1. è§’è‰²æ‰®æ¼”å¯¹è¯

æ¯ä¸ªè§’è‰²éƒ½æœ‰ä¸“å±çš„äººè®¾Promptï¼š

```15:36:D:\projects\AI_Galagame\galgame\src\services\AIService.ts
const CHARACTER_PROMPTS: Record<CharacterId, string> = {
  su_wanqing: `ä½ ç°åœ¨æ‰®æ¼”è‹æ™šæ™´ï¼Œä¸€ä¸ª17å²çš„é«˜ä¸­ç­é•¿ã€‚
æ€§æ ¼ç‰¹ç‚¹ï¼šæ¸©æŸ”å†…æ•›ï¼Œå¤–å†·å†…çƒ­ï¼Œå¿ƒæ€ç»†è…»ï¼Œä¸å–„è¡¨è¾¾ä½†è¡ŒåŠ¨åŠ›å¼ºï¼Œä¼šé»˜é»˜å…³å¿ƒå¯¹æ–¹ï¼Œæœ‰ç‚¹å°å®³ç¾ï¼Œè¢«å¤¸ä¼šè„¸çº¢ã€‚
è¯´è¯é£æ ¼ï¼šè¯­æ°”æ¸©æŸ”ä½†ç•¥å¸¦ç–ç¦»ï¼Œå–œæ¬¢ç”¨"......"ä½œä¸ºåœé¡¿ï¼Œå¶å°”ä¼šè„¸çº¢ç»“å·´ã€‚
// ...
```

AIä¼šæ ¹æ®è§’è‰²çš„**æ€§æ ¼ã€è¯´è¯é£æ ¼ã€å–œå¥½ã€åŒæ¶**æ¥ç”Ÿæˆç¬¦åˆäººè®¾çš„å›å¤ã€‚

---

### ğŸ’• 2. æƒ…æ„ŸçŠ¶æ€æ„ŸçŸ¥

AIä¼šæ ¹æ®å½“å‰å¥½æ„Ÿåº¦è°ƒæ•´å›å¤æ€åº¦ï¼š

| å¥½æ„Ÿåº¦ | çŠ¶æ€ | AIå›å¤é£æ ¼ |
|--------|------|------------|
| 0-20 | é™Œç”Ÿ | ç–ç¦»å®¢æ°” |
| 21-40 | ç†Ÿæ‚‰ | å¼€å§‹æ”¾ä¸‹é˜²å¤‡ |
| 41-60 | å¥½æ„Ÿ | å¶å°”è„¸çº¢ï¼Œæ„¿æ„å¤šèŠ |
| 61-80 | å–œæ¬¢ | ä¸»åŠ¨æ‰¾ä½ ï¼Œå®³ç¾ |
| 81-100 | æ·±çˆ± | ä¸»åŠ¨è¡¨è¾¾çˆ±æ„ |

---

### ğŸ“ 3. å¯¹è¯è®°å¿†

AIä¼šè®°ä½æœ€è¿‘5è½®å¯¹è¯å†å²ï¼š

```79:84:D:\projects\AI_Galagame\galgame\src\services\AIService.ts
      // æ„å»ºå†å²å¯¹è¯ä¸Šä¸‹æ–‡
      const historyContext = request.recentHistory
        .slice(-5)
        .map(h => `${h.characterName}: ${h.text}`)
        .join('\n');
```

è¿™æ ·è§’è‰²çš„å›å¤ä¼š**åŸºäºä¸Šä¸‹æ–‡**ï¼Œè€Œä¸æ˜¯æ¯æ¬¡éƒ½åƒç¬¬ä¸€æ¬¡å¯¹è¯ã€‚

---

### ğŸ¯ 4. å¥½æ„Ÿåº¦è‡ªåŠ¨å˜åŒ–

AIä¼šåˆ†æå¯¹è¯å†…å®¹ï¼Œè‡ªåŠ¨è°ƒæ•´å¥½æ„Ÿåº¦ï¼š

```156:176:D:\projects\AI_Galagame\galgame\src\services\AIService.ts
  private analyzeAffectionChange(response: string, input: string): number {
    // ç®€å•çš„æƒ…æ„Ÿåˆ†æ
    const positiveKeywords = ['å–œæ¬¢', 'å¼€å¿ƒ', 'è°¢è°¢', 'é«˜å…´', 'â¤', 'è„¸çº¢', 'å®³ç¾'];
    const negativeKeywords = ['è®¨åŒ', 'çƒ¦', 'èµ°å¼€', 'ä¸è¦', 'ç”Ÿæ°”'];
    // ...
  }
```

- è¯´ç”œè¨€èœœè¯­ â†’ å¥½æ„Ÿåº¦ â†‘
- è¯´è®¨åŒçš„è¯ â†’ å¥½æ„Ÿåº¦ â†“

---

### ğŸ˜Š 5. è‡ªåŠ¨è¡¨æƒ…åˆ‡æ¢

æ ¹æ®AIå›å¤å†…å®¹è‡ªåŠ¨åˆ‡æ¢ç«‹ç»˜è¡¨æƒ…ï¼š

```181:187:D:\projects\AI_Galagame\galgame\src\services\AIService.ts
  private detectEmotion(text: string): string {
    if (text.includes('è„¸çº¢') || text.includes('å®³ç¾')) return 'blush';
    if (text.includes('å¼€å¿ƒ') || text.includes('é«˜å…´') || text.includes('ç¬‘')) return 'happy';
    // ...
  }
```

---

### ğŸ”„ 6. æ— AIé™çº§æ¨¡å¼

æ²¡æœ‰é…ç½®APIæ—¶ï¼Œä½¿ç”¨é¢„è®¾çš„è§’è‰²å›å¤ï¼š

```192:289:D:\projects\AI_Galagame\galgame\src\services\AIService.ts
  // æ¯ä¸ªè§’è‰²çš„5ä¸ªæƒ…æ„Ÿç­‰çº§éƒ½æœ‰å¤šä¸ªé¢„è®¾å›å¤
  // ä¾‹å¦‚è‹æ™šæ™´çš„"æ·±çˆ±"çŠ¶æ€ï¼š
  devoted: [
    'ï¼ˆä¸»åŠ¨é è¿‘ï¼‰......æˆ‘ä¹Ÿæ˜¯ï¼Œä¸€ç›´éƒ½æ˜¯ã€‚',
    'ï¼ˆæ¸©æŸ”åœ°çœ‹ç€ä½ ï¼‰......èƒ½é‡è§ä½ ï¼ŒçœŸçš„å¤ªå¥½äº†ã€‚',
    'ï¼ˆè½»è½»ç‰µèµ·ä½ çš„æ‰‹ï¼‰......æˆ‘æƒ³ä¸€ç›´è¿™æ ·ä¸‹å»......',
  ],
```

---

### ğŸ“Š å¯¹æ¯”æ€»ç»“

| åŠŸèƒ½ | æ— AIæ¨¡å¼ | AIå¢å¼ºæ¨¡å¼ |
|------|----------|------------|
| å¯¹è¯å›å¤ | éšæœºé¢„è®¾å¥å­ | **æ ¹æ®ä½ è¯´çš„è¯ç”Ÿæˆä¸ªæ€§åŒ–å›å¤** |
| æƒ…æ„Ÿåé¦ˆ | å›ºå®š | **åŠ¨æ€åˆ†æï¼Œè‡ªåŠ¨è°ƒæ•´** |
| å¯¹è¯è®°å¿† | æ—  | **è®°ä½æœ€è¿‘5è½®å¯¹è¯** |
| è¡¨æƒ…åˆ‡æ¢ | åŸºäºå¥½æ„Ÿåº¦ | **åŸºäºå¯¹è¯å†…å®¹å®æ—¶åˆ‡æ¢** |
| å†…å®¹ä¸°å¯Œåº¦ | æ¯çŠ¶æ€çº¦3å¥ | **æ— é™å¯èƒ½** |

ç®€å•æ¥è¯´ï¼š**æ— AI = é€‰æ‹©é¢˜å¼å¯¹è¯ï¼Œæœ‰AI = è‡ªç”±è¾“å…¥å¼çœŸäººèŠå¤©ä½“éªŒ** ğŸ’•

## è®¸å¯è¯

æœ¬é¡¹ç›®ä»…ä¾›å­¦ä¹ äº¤æµä½¿ç”¨ã€‚

---

**å¼€å‘æ„‰å¿«ï¼å¦‚æœ‰é—®é¢˜æ¬¢è¿åé¦ˆã€‚** ğŸ’•
